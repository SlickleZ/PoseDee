{"ast":null,"code":"/**\n * LoopOnHover trigger plays the animation from first to last frame infinitely, when the cursor hovers over the icon.\n */\nexport class LoopOnHover {\n  element;\n  targetElement;\n  player;\n  playTimeout = null;\n  mouseIn = false;\n  constructor(element, targetElement, player) {\n    this.element = element;\n    this.targetElement = targetElement;\n    this.player = player;\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n  }\n  onConnected() {\n    this.targetElement.addEventListener('mouseenter', this.onMouseEnter);\n    this.targetElement.addEventListener('mouseleave', this.onMouseLeave);\n  }\n  onDisconnected() {\n    this.targetElement.removeEventListener('mouseenter', this.onMouseEnter);\n    this.targetElement.removeEventListener('mouseleave', this.onMouseLeave);\n    this.resetPlayDelayTimer();\n  }\n  onMouseEnter() {\n    this.mouseIn = true;\n    if (!this.player.isPlaying) {\n      this.player.playFromBegining();\n    }\n  }\n  onMouseLeave() {\n    this.mouseIn = false;\n  }\n  onComplete() {\n    this.resetPlayDelayTimer();\n    if (!this.mouseIn) {\n      return;\n    }\n    if (this.delay > 0) {\n      this.playTimeout = setTimeout(() => {\n        this.player.playFromBegining();\n      }, this.delay);\n    } else {\n      this.player.playFromBegining();\n    }\n  }\n  resetPlayDelayTimer() {\n    if (!this.playTimeout) {\n      return;\n    }\n    clearTimeout(this.playTimeout);\n    this.playTimeout = null;\n  }\n  get delay() {\n    const value = this.element.hasAttribute('delay') ? +(this.element.getAttribute('delay') || 0) : 0;\n    return Math.max(value, 0);\n  }\n}","map":{"version":3,"names":["LoopOnHover","element","targetElement","player","playTimeout","mouseIn","constructor","onMouseEnter","bind","onMouseLeave","onConnected","addEventListener","onDisconnected","removeEventListener","resetPlayDelayTimer","isPlaying","playFromBegining","onComplete","delay","setTimeout","clearTimeout","value","hasAttribute","getAttribute","Math","max"],"sources":["../../src/triggers/loop-on-hover.ts"],"sourcesContent":[null],"mappings":"AAEA;;;AAGA,OAAM,MAAOA,WAAW;EAKNC,OAAA;EACAC,aAAA;EACAC,MAAA;EANdC,WAAW,GAAQ,IAAI;EACvBC,OAAO,GAAY,KAAK;EAExBC,YACcL,OAAoB,EACpBC,aAA0B,EAC1BC,MAAe;IAFf,KAAAF,OAAO,GAAPA,OAAO;IACP,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,MAAM,GAANA,MAAM;IAEhB,IAAI,CAACI,YAAY,GAAG,IAAI,CAACA,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC;IAChD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACA,YAAY,CAACD,IAAI,CAAC,IAAI,CAAC;EACpD;EAEAE,WAAWA,CAAA;IACP,IAAI,CAACR,aAAa,CAACS,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACJ,YAAY,CAAC;IACpE,IAAI,CAACL,aAAa,CAACS,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACF,YAAY,CAAC;EACxE;EAEAG,cAAcA,CAAA;IACV,IAAI,CAACV,aAAa,CAACW,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAACN,YAAY,CAAC;IACvE,IAAI,CAACL,aAAa,CAACW,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAACJ,YAAY,CAAC;IAEvE,IAAI,CAACK,mBAAmB,EAAE;EAC9B;EAEAP,YAAYA,CAAA;IACR,IAAI,CAACF,OAAO,GAAG,IAAI;IAEnB,IAAI,CAAC,IAAI,CAACF,MAAM,CAACY,SAAS,EAAE;MACxB,IAAI,CAACZ,MAAM,CAACa,gBAAgB,EAAE;;EAEtC;EAEAP,YAAYA,CAAA;IACR,IAAI,CAACJ,OAAO,GAAG,KAAK;EACxB;EAEAY,UAAUA,CAAA;IACN,IAAI,CAACH,mBAAmB,EAAE;IAE1B,IAAI,CAAC,IAAI,CAACT,OAAO,EAAE;MACf;;IAGJ,IAAI,IAAI,CAACa,KAAK,GAAG,CAAC,EAAE;MAChB,IAAI,CAACd,WAAW,GAAGe,UAAU,CAAC,MAAK;QAC/B,IAAI,CAAChB,MAAM,CAACa,gBAAgB,EAAE;MAClC,CAAC,EAAE,IAAI,CAACE,KAAK,CAAC;KACjB,MAAM;MACH,IAAI,CAACf,MAAM,CAACa,gBAAgB,EAAE;;EAEtC;EAEAF,mBAAmBA,CAAA;IACf,IAAI,CAAC,IAAI,CAACV,WAAW,EAAE;MACnB;;IAGJgB,YAAY,CAAC,IAAI,CAAChB,WAAW,CAAC;IAC9B,IAAI,CAACA,WAAW,GAAG,IAAI;EAC3B;EAEA,IAAIc,KAAKA,CAAA;IACL,MAAMG,KAAK,GAAG,IAAI,CAACpB,OAAO,CAACqB,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAACrB,OAAO,CAACsB,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;IACjG,OAAOC,IAAI,CAACC,GAAG,CAACJ,KAAK,EAAE,CAAC,CAAC;EAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}